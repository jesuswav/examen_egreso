<ion-content>
  <div class="container">
    <div class="left-column">
      <ion-card class="large-card">
        <ion-card-header>
          <ion-card-title>Usuario Nuevo</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input type="text" [(ngModel)]="data.nombre"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Usuario</ion-label>
            <ion-input type="text" [(ngModel)]="data.usuario"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input type="password" [(ngModel)]="data.password"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Rol</ion-label>
            <ion-select [(ngModel)]="data.rol">
              <ion-select-option *ngFor="let rol of roles" [value]="rol.idRol">{{ rol.rol }}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Carrera</ion-label>
            <ion-select [(ngModel)]="data.idCarrera">
              <ion-select-option *ngFor="let carrera of carreras" [value]="carrera.idCarrera">{{ carrera.carrera }}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-button expand="full" style="margin-top: 20px; background-color: #4CAF50; color: white;" (click)="register()">Registrar</ion-button>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="right-column">
      <ion-list>
        <ion-list-header>
          <ion-label>Usuarios Registrados</ion-label>
        </ion-list-header>
        <ion-item *ngFor="let usuario of usuarios">
          <ion-label>
            <h2>{{ usuario.nombre }}</h2>
            <p>{{ usuario.rol }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
    <div class="right-column2">
      <ion-list>
        <ion-list-header>
          <ion-label>Alumnos por Carrera</ion-label>
        </ion-list-header>
        <ion-item *ngFor="let carrera of alumnosPorCarrera">
          <ion-label>
            <h2>{{ carrera.carrera }}</h2>
            <p>{{ carrera.cantidad }}</p>
          </ion-label>
        </ion-item>
      </ion-list>

      <ion-card>
        <ion-card-header>
          <ion-card-title>Gráfico de Alumnos por Carrera</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <canvas #pieCanvas></canvas>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>
